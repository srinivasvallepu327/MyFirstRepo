sap.ui.define(["sap/ui/core/Control","sap/m/RatingIndicator","sap/m/Label","sap/m/Button"],function(t,e,i,a){"use strict";return t.extend("emc.fin.ar.cnu.control.ProductRating",{metadata:{properties:{value:{type:"float",defaultValue:0}},aggregations:{_rating:{type:"sap.m.RatingIndicator",multiple:false,visibility:"hidden"},_label:{type:"sap.m.Label",multiple:false,visibility:"hidden"},_button:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{change:{parameters:{value:{type:"int"}}}}},init:function(){this.setAggregation("_rating",new e({value:this.getValue(),iconSize:"2rem",visualMode:"Half",liveChange:this._onRate.bind(this)}));this.setAggregation("_label",new i({text:"{i18n>productRatingLabelInitial}"}).addStyleClass("sapUiTinyMargin"));this.setAggregation("_button",new a({text:"{i18n>productRatingButton}",press:this._onSubmit.bind(this)}))},setValue:function(t){this.setProperty("value",t,true);this.getAggregation("_rating").setValue(t)},_onRate:function(t){var e=this.getModel("i18n").getResourceBundle();var i=t.getParameter("value");this.setValue(i);this.getAggregation("_label").setText(e.getText("productRatingLabelIndicator",[i,t.getSource().getMaxValue()]));this.getAggregation("_label").setDesign("Bold")},_onSubmit:function(t){var e=this.getModel("i18n").getResourceBundle();this.getAggregation("_rating").setEnabled(false);this.getAggregation("_label").setText(e.getText("productRatingLabelFinal"));this.getAggregation("_button").setEnabled(false);this.fireEvent("change",{value:this.getValue()})},renderer:function(t,e){t.write("<div");t.writeControlData(e);t.addClass("myAppDemoWTProductRating");t.writeClasses();t.write(">");t.renderControl(e.getAggregation("_rating"));t.renderControl(e.getAggregation("_label"));t.renderControl(e.getAggregation("_button"));t.write("</div>")}})});